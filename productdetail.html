<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,viewport-fit=cover, initial-scale=1.0, maximum-scale=1.0,user-scalable=0" />
		<meta name="applicable-device" content="pc,mobile"/>
		<meta name="apple-mobile-web-app-capable" content="yes"/>
		<meta name="apple-touch-fullscreen" content="yes"/>
		<meta name="apple-mobile-web-app-status-bar-style" content="black"/>
		<meta name="format-detection" content="telephone=no"/>
		<meta http-equiv="X-UA-Compatible" content="edge">
		<meta name="x5-fullscreen" content="true">
		<meta name="full-screen" content="yes">
		<meta name="wap-font-scale" content="no">
		<script src="js/flexible.js"></script>
		<title>智慧居家养老平台</title>
		<link rel="apple-touch-icon" type="image/jpg" href="">
		<link rel="icon" type="image/jpg" href="">
	    <link rel="stylesheet" href="css/iconfont.css" />
	    <link rel="stylesheet" href="css/swiper.min.css" />
		<link rel="stylesheet" href="css/base.css" />
		<style>
			.scaleBigAnimate {
				animation: scaleBigAnimate .3s ease-in-out forwards;
			}
			.scaleSmallAnimate {
				animation: scaleSmallAnimate .3s ease-in-out forwards;
			}
			@keyframes scaleBigAnimate {
				0% {
					transform: scale(0);
				}
				100% {
					transform: scale(1);
				}
			}
			@keyframes scaleSmallAnimate {
				0% {
					transform: scale(1);
				}
				100% {
					transform: scale(0);
				}
			}
		</style>
	</head>

	<body>
		<div class="container itemBanner">
			<div class="picbanner">
				<a href="javascript:history.go(-1)" class="iconfont picbanner-back">&#xe65f;</a>
				<div class="swiper-container gallery">
					<div class="my-gallery swiper-wrapper">
					    <div class="swiper-slide" onclick="bigImg(this)" data-src="images/veer-130812528_r2_c2.jpg" style="background-image: url(images/veer-130812528_r2_c2.jpg);">			
							<img src="images/veer-130812528_r2_c2.jpg" />	    	
					    </div>
					    <div class="swiper-slide" onclick="bigImg(this)" data-src="images/veer-130812528_r2_c2.jpg" style="background-image: url(images/veer-130812528_r2_c2.jpg);">			
					  		<img src="images/veer-130812528_r2_c2.jpg" />	
					    </div>
					    <div class="swiper-slide" onclick="bigImg(this)" data-src="images/veer-130812528_r2_c2.jpg" style="background-image: url(images/veer-130812528_r2_c2.jpg);">			
						    <img src="images/veer-130812528_r2_c2.jpg" />	
					    </div>
					</div>
					<div class="swiper-pagination"></div>
				</div> 
			</div>
			<div class="contentBox contentBoxcet mt20">
				<section class="detail-section">
					<div class="inner_title inner_title_bes serviceBox">
						<div class="detail_l">
							<b class="detailprice-tips">&yen;</b>
							<h6 class="detailprice">3200.00</h6>
						</div>
						<div class="detail_r">4W+次下单</div>
					</div>
					<div class="inner_title inner_title_bes serviceBox">
						<div class="mus-mark"><b class="mark-zt">三天/周</b></div>
						<div class="mus-mark"><b class="mark-zt">满100减10</b></div>
					</div>
					<div class="inner_title inner_title_bes serviceBox">
						<div class="detail-name">轻度照护 每次2小时  每周3次  共4周</div>
					</div>
				</section>
			</div>
			<div class="contentBox contentBoxset mt20">
				<div class="serviceBox">
					<h3>包含内容</h3>
				</div>
				<div class="inner_title inner_title_ses">
					<div class="jes_box">
						<div class="inner_r2 message">
							<a><span class="item-bold">卧床/术后老人全天照护单次（8小时）</span><span>单次全天照护8小时30次</span></a>
						</div>
					</div>
				</div>
			</div>
			<div class="contentBox contentBoxset mt20">
				<div class="serviceBox">
					<h3>关联商品</h3>
				</div>
				<div class="inner_title inner_title_ses">
					<div class="jes_box">
						<div class="inner_r2 message">
							<div class="pic_goods">
								<div class="swiper-container gallery">
									<div class="my-gallery swiper-wrapper">
										<div class="swiper-slide">			
											<img src="images/veer-130812528_r2_c2.jpg" />
											<div class="pic_goods_name">轻度照护 每次2小时  每周3次  共4周</div>
											<div class="pic_goods_price">&yen;3200.00</div>
											<div class="pic_goods_buy">
												<div class="pic_goods_btn">立即购买</div>
											</div>
										</div>
									    <div class="swiper-slide">			
									  		<img src="images/veer-130812528_r2_c2.jpg" />
											<div class="pic_goods_name">轻度照护 每次2小时  每周3次  共4周</div>
											<div class="pic_goods_price">&yen;3200.00</div>
											<div class="pic_goods_buy">
												<div class="pic_goods_btn">立即购买</div>
											</div>
									    </div>
									    <div class="swiper-slide">			
										    <img src="images/veer-130812528_r2_c2.jpg" />
											<div class="pic_goods_name">轻度照护 每次2小时  每周3次  共4周</div>
											<div class="pic_goods_price">&yen;3200.00</div>
											<div class="pic_goods_buy">
												<div class="pic_goods_btn">立即购买</div>
											</div>
									    </div>
									    <div class="swiper-slide">			
											<img src="images/veer-130812528_r2_c2.jpg" />
											<div class="pic_goods_name">轻度照护 每次2小时  每周3次  共4周</div>
											<div class="pic_goods_price">&yen;3200.00</div>
											<div class="pic_goods_buy">
												<div class="pic_goods_btn">立即购买</div>
											</div>
									    </div>
									    <div class="swiper-slide">			
									  		<img src="images/veer-130812528_r2_c2.jpg" />
											<div class="pic_goods_name">轻度照护 每次2小时  每周3次  共4周</div>
											<div class="pic_goods_price">&yen;3200.00</div>
											<div class="pic_goods_buy">
												<div class="pic_goods_btn">立即购买</div>
											</div>
									    </div>
									    <div class="swiper-slide">			
										    <img src="images/veer-130812528_r2_c2.jpg" />
											<div class="pic_goods_name">轻度照护 每次2小时  每周3次  共4周</div>
											<div class="pic_goods_price">&yen;3200.00</div>
											<div class="pic_goods_buy">
												<div class="pic_goods_btn">立即购买</div>
											</div>
									    </div>
									</div>
								</div> 
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="contentBox contentBoxset mt20">
				<div class="serviceBox">
					<h3>评价<span>（10万+）</span></h3>
					<span>好评率99.96%</span>
				</div>
				<div class="inner_title inner_title_ses">
					<div class="jes_box">
						<div class="inner_r2 message">
							<div>
								<div class="commentLi">
									<a href="userinfo.html?name=慕" class="commentIcon">
										<img src="images/list.png">
									</a>
									<div class="commentWrap">
										<div class="commentName">
											<span>慕</span>
											<div class="commentDate">发布于 2020-03-31</div>
										</div>
										<div class="commentMarks">
											<div class="commentStars">
												<ul class="commentStarUl">
													<li>★</li>
													<li>★</li>
													<li>★</li>
													<li>★</li>
													<li>★</li>
												</ul>
												<ul class="commentStars_ul" style="width: 80%;">
													<li>★</li>
													<li>★</li>
													<li>★</li>
													<li>★</li>
													<li>★</li>
												</ul>
											</div>
											<div class="marks_count">4.0</div>
										</div>
										<div class="commentInfo">
											玛歌2004 温柔的霜糖黑莓香气下，藏的是凌厉的线条感，修长的、笔直的、干净的果味就像月光下的剪影，清晰且明亮。 圆润的酒体，轻盈像溪流飘过舌苔，留下细细的单宁和愉悦的果酸。 并不以强劲与浓郁，而以优雅与克制擅胜，使人暗暗记下恰好适饮的玛歌是如此好喝，远比好年份却不适饮的玛歌让人开心。 评分：92分
										</div>
										<div class="commentImg">
											<img class="list-img" onclick="bigImg(this)" data-src="https://img14.360buyimg.com/mobilecms/s270x270_jfs/t1/130511/28/23909/478912/620c9c87Eb591c09a/013d8e8c3d754aae.jpg!q70.dpg.webp" src="https://img14.360buyimg.com/mobilecms/s270x270_jfs/t1/130511/28/23909/478912/620c9c87Eb591c09a/013d8e8c3d754aae.jpg!q70.dpg.webp">
											<img class="list-img" onclick="bigImg(this)" data-src="https://img14.360buyimg.com/mobilecms/s270x270_jfs/t1/167730/3/29061/264674/6245db61Eb5530cac/5a9f1cd071eea136.jpg!q70.dpg.webp" src="https://img14.360buyimg.com/mobilecms/s270x270_jfs/t1/167730/3/29061/264674/6245db61Eb5530cac/5a9f1cd071eea136.jpg!q70.dpg.webp">
											<img class="list-img" onclick="bigImg(this)" data-src="https://img14.360buyimg.com/mobilecms/s270x270_jfs/t1/105952/25/25938/159711/624478aeEb494d2db/59d8e61a0c9adead.jpg!q70.dpg.webp" src="https://img14.360buyimg.com/mobilecms/s270x270_jfs/t1/105952/25/25938/159711/624478aeEb494d2db/59d8e61a0c9adead.jpg!q70.dpg.webp">
											<img class="list-img" onclick="bigImg(this)" data-src="https://img14.360buyimg.com/mobilecms/s270x270_jfs/t1/130511/28/23909/478912/620c9c87Eb591c09a/013d8e8c3d754aae.jpg!q70.dpg.webp" src="https://img14.360buyimg.com/mobilecms/s270x270_jfs/t1/130511/28/23909/478912/620c9c87Eb591c09a/013d8e8c3d754aae.jpg!q70.dpg.webp">
											<img class="list-img" onclick="bigImg(this)" data-src="https://img14.360buyimg.com/mobilecms/s270x270_jfs/t1/167730/3/29061/264674/6245db61Eb5530cac/5a9f1cd071eea136.jpg!q70.dpg.webp" src="https://img14.360buyimg.com/mobilecms/s270x270_jfs/t1/167730/3/29061/264674/6245db61Eb5530cac/5a9f1cd071eea136.jpg!q70.dpg.webp">
											<img class="list-img" onclick="bigImg(this)" data-src="https://img14.360buyimg.com/mobilecms/s270x270_jfs/t1/105952/25/25938/159711/624478aeEb494d2db/59d8e61a0c9adead.jpg!q70.dpg.webp" src="https://img14.360buyimg.com/mobilecms/s270x270_jfs/t1/105952/25/25938/159711/624478aeEb494d2db/59d8e61a0c9adead.jpg!q70.dpg.webp">
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="contentBox contentBoxset mt20">
				<div class="serviceBox">
					<h3>产品详情</h3>
				</div>
				<div class="inner_title inner_title_ses">
					<div class="jes_box">
						<div class="inner_r2 message">
							<img src="images/hot.png" />
						</div>
					</div>
				</div>
			</div>
			<div class="s-actionBar">
		  		<div class="action-bar">
		  			<div class="trade-bar" onclick="buy()">
		  				立即购买
		  			</div>
		  		</div>
		  	</div>
		</div>

		<script type="text/javascript" src="js/jquery-3.1.1.min.js"></script>
		<script type="text/javascript" src="js/jquery-weui.min.js" ></script>
		<script type="text/javascript" src="js/swiper.min.js" ></script>

		<script>
			// 立即购买
			const buy = () => {
				specificationsDialog({
					title: '居家养老',
					confirmButtonText: '购 买',
					data: result,
					onConfirm: function (price, id, name, size) {
						alert("总计：" + price + "\n" + "规格ID：" + id+ "\n" + "规格名称：" + name + "\n" + "规格大小：" + size)
					},
				})
			};

			// 测试数据
			let result = [
				{
					"type": 1,
					"name": "老人类型",
					"id": "10010",
					"list": [
						{
							"id": "100101",
							"name": "自理",
							"num": 45,
							"ratio": 1
						},
						{
							"id": "100102",
							"name": "半自理",
							"num": 50,
							"ratio": 1
						},
						{
							"id": "100103",
							"name": "卧床",
							"num": 55,
							"ratio": 1
						}
					]
				}, {
					"type": 2,
					"name": "时长",
					"id": "20010",
					"list": [
						{
							"id": "200101",
							"name": "2小时/次",
							"num": 2,
							"ratio": 1
						},
						{
							"id": "200102",
							"name": "3小时/次",
							"num": 3,
							"ratio": 1
						},
						{
							"id": "200103",
							"name": "8小时/次",
							"num": 7.45,
							"ratio": 1
						}
					]
				}, {
					"type": 3,
					"name": "频次",
					"id": "30010",
					"list": [
						{
							"id": "300101",
							"name": "3次/周",
							"num": 3,
							"ratio": 1
						},
						{
							"id": "300102",
							"name": "5次/周",
							"num": 5,
							"ratio": 1
						},
						{
							"id": "300103",
							"name": "7次/周",
							"num": 7,
							"ratio": 1
						}
					]
				}, {
					"type": 4,
					"name": "周期",
					"id": "40010",
					"list": [
						{
							"id": "400101",
							"name": "1个月",
							"num": 1,
							"ratio": 4.25
						},
						{
							"id": "400102",
							"name": "3个月(推荐)",
							"num": 2.85,
							"ratio": 4.25
						}
					]
				}
			];
			
			console.log(result)

			const specificationsDialog = (options) => {

				class StyleSheet {
					constructor() {
						this.styles = {};
					}

					addStyle(selector, properties) {
						this.styles[selector] = properties;
					}

					applyStyles() {
						const styleTag = document.createElement("style");
						document.head.appendChild(styleTag);
						const styleSheet = styleTag.sheet;

						for (const selector in this.styles) {
							const rule = `${selector} { ${this.styleToString(this.styles[selector])} }`;
							styleSheet.insertRule(rule, styleSheet.cssRules.length);
						}
					}

					styleToString(style) {
						return Object.entries(style)
							.map(([property, value]) => `${property}: ${value}`)
							.join("; ");
					}
				};

				let viewportWidth = window.innerWidth;
				let viewportHeight = window.innerHeight;

				const calculateViewport = () => {
					viewportWidth = window.innerWidth;
					viewportHeight = window.innerHeight;
				};

				calculateViewport();

				window.addEventListener('resize', calculateViewport);

				const styles = new StyleSheet();
				const elementTag = typeof HTMLDialogElement === 'function' ? 'dialog' : 'div';
				const dialog = document.createElement(elementTag);
				const div = document.createElement("div");
				const h2 = document.createElement("h2");
				const dl = document.createElement("dl");
				const div2 = document.createElement("div");
				const div3 = document.createElement("div");
				const div4 = document.createElement("div");
				const div5 = document.createElement("div");
				const div6 = document.createElement("div");
				const span = document.createElement("span");
				const b = document.createElement("b");
				const s = document.createElement("s");
				const s2 = document.createElement("s");
				const b2 = document.createElement("b");
				const i1 = document.createElement("i");
				const i2 = document.createElement("i");
				document.body.appendChild(dialog);
				document.body.classList.add('overflow');
				document.querySelector('html').classList.add('overflow');
				dialog.appendChild(div);
				div.appendChild(h2);
				div.appendChild(dl);
				div.appendChild(div2);
				div.appendChild(div3);
				div2.appendChild(s2);
				div2.appendChild(b2);
				b2.className = 'b2';
				s2.className = 's2';
				s2.textContent = "已选内容：";
				dialog.className = 'dialog';
				div.className = 'session';
				div2.className = 'tips';
				div3.className = 'bottomBtn';
				div3.appendChild(div4);
				div3.appendChild(div5);
				div4.className = 'bottomLeft';
				div5.className = 'bottomRight';
				div4.appendChild(span);
				div4.appendChild(s);
				div4.appendChild(b);
				div.appendChild(div6);
				div6.className = 'close';
				i1.className = 'i1';
				i2.className = 'i2';
				div6.appendChild(i1);
				div6.appendChild(i2);
				s.textContent = "￥";
				span.textContent = "总计";
				div.classList.add('scaleBigAnimate');

				if (elementTag === 'dialog') {
					dialog.show();
				}
				h2.innerText = options.title || "";
				dl.innerHTML = options.content || "";
				div5.textContent = options.confirmButtonText || "";

				const result = options.data || [];

				let price = 0;//总价格
				let itemID;//所选规格ID
				let itemName//所选规格名称
				let itemSize//所选规格尺寸
				
				// 计算所选项的乘积并显示结果
				const calculateResult = () => {
					let selectedBtns = document.querySelectorAll(".session .select");
					let sum = 1;
					let text = '';
					let id = [];
					let name = [];
					let size = [];

					selectedBtns.forEach((btn, index) => {
						let num = parseFloat(btn.dataset.num*btn.dataset.ratio);
						sum *= num;
						if (index !== selectedBtns.length - 1) {
							text += btn.textContent + '、';
						} else {
							text += btn.textContent;
						}
						id.push(btn.dataset.id);
						name.push(btn.textContent);
						size.push(btn.dataset.num);
					});
					console.log(sum.toFixed(2))
					price = sum.toFixed(2);
					itemID = id;
					itemName = name;
					itemSize = size;
					document.querySelector('.session .bottomBtn b').textContent = sum.toFixed(0);
					const dom = document.querySelectorAll('.session dl dd .select');
					if (result.length !== dom.length) {
						document.querySelector('.session .bottomBtn .bottomLeft b').textContent = '--';
					}
					document.querySelector('.session .tips .b2').textContent = text;
				};

				// 遍历产品
				for (let i = 0; i < result.length; i++) {
					let res = result[i];
					const dt = document.createElement('dt');
					const dd = document.createElement('dd');
					const span = document.createElement('span');
					dt.appendChild(span);
					span.textContent = `${res.name}`;
					dl.appendChild(dt);

					for (let j = 0; j < res.list.length; j++) {
						
						const label = document.createElement('label');
						let child = res.list[j];
						dl.appendChild(dd);
						dd.appendChild(label);
						label.textContent = `${child.name}`;
						label.setAttribute('data-id', child.id);
						label.setAttribute('data-num', child.num);
						label.setAttribute('data-ratio', child.ratio);

						label.addEventListener('click', function(e) {
							console.log(e.target.dataset.id)
							e.target.classList.toggle('select');
							$(e.target).siblings().removeClass('select');
							const dom = document.querySelectorAll('.session dl dd .select');
							if (result.length !== dom.length) {
								document.querySelector('.session .bottomBtn .bottomRight').classList.add('disabled');
							} else {
								document.querySelector('.session .bottomBtn .bottomRight').classList.remove('disabled');
							}
							calculateResult();
						});
					}
				};

				// 默认选中第一行数据
				(() => {
					let sum = 1;
					let text = '';
					let id = [];
					let name = [];
					let size = [];

					const ddDom = document.querySelectorAll('.session dd');
					ddDom.forEach(function(element, index) {
						element.firstElementChild.classList.add('select');
						sum *= parseFloat(element.firstElementChild.getAttribute('data-num')*element.firstElementChild.getAttribute('data-ratio'));
						if (index !== ddDom.length - 1) {
							text += element.firstElementChild.textContent + '、';
						} else {
							text += element.firstElementChild.textContent;
						}
						id.push(element.firstElementChild.getAttribute('data-id'));
						name.push(element.firstElementChild.textContent);
						size.push(element.firstElementChild.getAttribute('data-num'));
					});
					price = sum.toFixed(2);
					itemID = id;
					itemName = name;
					itemSize = size;
					document.querySelector('.session .bottomBtn b').textContent = sum.toFixed(0);
					const dom = document.querySelectorAll('.session dl dd .select');
					if (result.length !== dom.length) {
						document.querySelector('.session .bottomBtn .bottomLeft b').textContent = '--';
					}
					document.querySelector('.session .tips .b2').textContent = text;
					
				})();

				div5.addEventListener('click', function() {
					if (!this.classList.contains('disabled')) {
						if (typeof options.onConfirm === 'function') {
							options.onConfirm(price, itemID, itemName, itemSize);
						}
					}
				});

				div6.addEventListener('click', function() {
					div.classList.add('scaleSmallAnimate');
					document.body.classList.remove('overflow');
					document.querySelector('html').classList.remove('overflow');

					setTimeout(() => {
						document.body.removeChild(dialog);
					}, 300)
				});

				styles.addStyle("html.overflow", {
					'overflow': 'hidden'
				});

				styles.addStyle("body.overflow", {
					'overflow': 'hidden'
				});
				
				styles.addStyle(".dialog", {
					'position': 'fixed',
					'background-color': 'rgba(0, 0, 0, .7)',
					'width': '100%',
					'height': '100%',
					'left': '0',
					'top': '0',
					'z-index': '1000000',
					'color': '#333333',
					'font-size': '0px',
					'padding': '0',
					'margin': '0',
					'border': '0',
					'outline': '0',
					'border-radius': '0',
					'box-shadow': '0',
					'transform': 'none',
					'display': 'flex',
					'align-items': 'center',
					'justify-content': 'center'
				});

				styles.addStyle(".dialog .session", {
					'width': '90%',
					'height': '75%',
					'position': 'fixed',
					'z-index': '1000001',
					'background-color': '#FFFFFF',
					'border-radius': '10px'
				});

				styles.addStyle(".dialog h2", {
					'display': 'flex',
					'align-items': 'center',
					'font-size': '20px',
					'font-weight': 'bold',
					'padding': '0 15px',
					'height': '50px',
					'display': 'flex',
					'align-items': 'center'
				});

				styles.addStyle(".dialog dl", {
					'font-size': '14px',
					'padding': '0 15px',
					'height': 'calc(100% - 150px)',
					'overflow': 'auto',
					'-webkit-overflow-scrolling': 'touch'
				});

				styles.addStyle(".dialog dt", {
					'color': 'rgb(108, 108, 108)',
					'margin-bottom': '10px',
					'font-size': '16px',
					'font-weight': 'bold'
				});

				styles.addStyle(".dialog dd", {
					'color': '#222222',
					'margin-bottom': '20px',
					'display': 'flex',
					'flex-wrap': 'wrap'
				});

				styles.addStyle(".dialog dd label", {
					'margin-right': '10px',
					'margin-bottom': '10px',
					'position': 'relative',
					'display': 'flex',
					'justify-content': 'center',
					'align-items': 'center',
					'height': '30px',
					'border': '.5px solid #e1e0e0',
					'box-sizing': 'border-box',
					'border-radius': '6px',
					'padding': '0 15px',
					'color': '#9b9b9b'
				});

				styles.addStyle(".dialog dd label.select", {
					'color': '#ee8733',
					'border': '.5px solid #ee8733',
					'box-sizing': 'border-box',
					'background-color': '#fefbf2',
					'height': '30px',
					'border-radius': '6px'
				});

				styles.addStyle(".dialog dd label span", {
					'position': 'absolute',
					'font-size': '14px',
					'width': '100%',
					'height': '100%',
					'display': 'flex',
					'justify-content': 'center',
					'align-items': 'center'
				});

				styles.addStyle(".dialog .tips", {
					'position': 'absolute',
					'max-height': '50px',
					'left': '0',
					'right': '0',
					'bottom': '50px',
					'z-index': '1',
					'font-size': '18px',
					'box-sizing': 'border-box',
					'border-top': '0.5px solid rgb(154, 141, 141, 0.1)',
					'display': 'flex',
					'padding': '5px 15px',
					'background-color': '#fafafa',
				});

				styles.addStyle(".dialog .tips .s2", {
					'font-size': '14px',
					'color': '#6c6c6c',
					'width': '80px'
				});

				styles.addStyle(".dialog .tips .b2", {
					'font-size': '14px',
					'color': '#222222',
					'flex': '1',
					'overflow': 'hidden',
					'display': '-webkit-box',
					'-webkit-box-orient': 'vertical',
					'-webkit-line-clamp': '2'
				});

				styles.addStyle(".dialog .bottomBtn", {
					'position': 'absolute',
					'height': '50px',
					'left': '0',
					'right': '0',
					'bottom': '0',
					'z-index': '1',
					'font-size': '18px',
					'box-sizing': 'border-box',
					'border-top': '0.5px solid rgb(154, 141, 141, 0.1)',
					'display': 'flex',
					'align-items': 'center',
					'padding': '0 15px'
				});

				styles.addStyle(".dialog .bottomBtn .bottomLeft", {
					'flex': '1'
				});

				styles.addStyle(".dialog .bottomBtn .bottomLeft span", {
					'font-weight': 'bold',
					'margin-right': '5px'
				});

				styles.addStyle(".dialog .bottomBtn .bottomLeft s", {
					'color': '#ef5136'
				});

				styles.addStyle(".dialog .bottomBtn .bottomLeft b", {
					'color': '#ef5136',
					'font-size': '22px',
				});

				styles.addStyle(".dialog .bottomBtn .bottomRight", {
					'background-color': '#f9df44',
					'border-radius': '6px',
					'padding': '3px 15px',
					'font-size': '18px',
					'color': '#000000',
					'font-weight': 'bold'
				});
				
				styles.addStyle(".dialog .bottomBtn .bottomRight.disabled", {
					'background-color': '#cccccc',
					'border-radius': '6px',
					'padding': '3px 15px',
					'font-size': '18px',
					'color': '#ffffff',
					'font-weight': 'bold'
				});

				styles.addStyle(".dialog .close", {
					'background-color': 'rgba(0, 0, 0, 0.2)',
					'border': '1px solid #ffffff',
					'border-radius': '6px',
					'bottom': '-60px',
					'width': '50px',
					'height': '50px',
					'border-radius': '50%',
					'z-index': '1000',
					'font-size': '18px',
					'color': '#ffffff',
					'position': 'fixed',
					'left': '0',
					'right': '0',
					'margin': 'auto',
					'display': 'flex',
					'align-items': 'center',
					'justify-content': 'center',
					'box-sizing': 'border-box'
				});

				styles.addStyle(".dialog .close .i1", {
					'content': "",
					'position': 'absolute',
					'width': '28px',
					'height': '2px',
					'background-color': '#ffffff',
					'transform': 'rotate(-45deg)'
				})

				styles.addStyle(".dialog .close .i2", {
					'content': "",
					'position': 'absolute',
					'width': '2px',
					'height': '28px',
					'background-color': '#ffffff',
					'transform': 'rotate(135deg)'
				})

				styles.applyStyles();
			};


		</script>
		<script>
			var galleryTop = new Swiper('.picbanner .swiper-container', {
    			effect : 'fade',
		        pagination: {
		          	el: ".picbanner .swiper-pagination",          	
			    	clickable :true		    	
		        },
		        observer:true,//修改swiper自己或子元素时，自动初始化swiper
	    		observeParents:true,//修改swiper的父元素时，自动初始化swiper
		    });
		    
		    var galleryGood = new Swiper('.pic_goods .swiper-container', {
		    	slidesPerView: 3,
		        spaceBetween: 10,
		        freeMode: true,
		        observer:true,//修改swiper自己或子元素时，自动初始化swiper
	    		observeParents:true,//修改swiper的父元素时，自动初始化swiper
		    });
		    
		    // 查看大图
			function bigImg(res) {
				var big_img = `<div class="big_img" onclick="closeDialogImg(this)">
				    <div class="swiper-container2">
				      <div class="swiper-wrapper"></div>
				    </div>
				    <div class="swiper-pagination2"></div>				    
				</div>`;
				$("body").append(big_img);
				var mySwiper = new Swiper('.swiper-container2', {
					loop: false,
					pagination: '.swiper-pagination2',
					paginationType: 'fraction'
				});
				var imgSrc = $(res).data("src");
				var imgBox = $(res).parent().children();
				var i = $(imgBox).index(res);
				$(".big_img .swiper-wrapper").empty();
				$(".big_img").css({
					"z-index": 1001,
					"opacity": "1",
					"transition": "0.5s all ease-in"
				});

				for(var j = 0, c = imgBox.length; j < c; j++) {
					$(".big_img .swiper-wrapper").append(`<div class="swiper-slide">
		        		<div class="cell">
		        			<img src=${imgBox.eq(j).data("src")} />
		        		</div>
	        		</div>`);
//					mySwiper.updateSlidesSize();
//					mySwiper.updatePagination();

					$(".big_img .cell img").animate({
						width: $(window).width()
					}, 500)
					mySwiper.slideTo(i, 0, false);

				}

				return false;
			}

			// 关闭大图
			function closeDialogImg(res) {
				$(".big_img .cell img").animate({
					width: 0
				}, 500)
				$(".big_img").css({
					"z-index": "-1",
					"opacity": "0",
					"transition": "0.5s all ease-in"
				});
				setTimeout(()=>{					
					$(res).remove();
				},500)
			}
			
		</script>
		
	</body>

</html>